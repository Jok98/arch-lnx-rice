################################################################################
# GENERALE
general {
    resize_on_border = true
    extend_border_grab_area = 10
    hover_icon_on_border = true

    border_size = 3
    col.active_border = rgba(C77DFFAA)
    col.inactive_border = rgba(2C3E50AA) rgba(34495EAA) 45deg

    gaps_in = 10
    gaps_out = 20

    layout = dwindle
    allow_tearing = false
    no_border_on_floating = false
}


################################################################################
# PLUGIN NSTACK - Layout Master Centro con Stack Laterali
#plugin {
#   nstack {
#       layout {
#           # Orientamento: master al centro, stack ai lati
#           orientation = center
#
#           # Numero totale di stack (master + 2 stack laterali = 3)
#           stacks = 3
#
#           # Proporzioni: 0.6 = 60% per master, 20% per ogni stack
#         mfact = 0.6
#
#           # Finestra singola centrata (non fullscreen)
#           center_single_master = 1
#           single_mfact = 0.6
#
#           # Comportamento nuove finestre
#           new_on_top = 0          # Nuove finestre vanno in fondo allo stack
#           new_is_master = 0       # Nuove finestre non diventano master automaticamente
#
#           # Gaps e fullscreen
#           no_gaps_when_only = 0   # Mantieni gaps anche con una sola finestra
#           inherit_fullscreen = 1   # Eredita stato fullscreen
#           special_scale_factor = 0.8
#        }
#    }
#}

################################################################################
# DECORATION / OPACITÀ
decoration {
    active_opacity = 0.85
    inactive_opacity = 0.85
    fullscreen_opacity = 1
    rounding = 0

    # Riduce la luminosità o l'opacità di elementi sullo schermo per mettere in risalto la finestra attiva
    dim_inactive = false
    dim_strength = 0.10
    dim_around = 0.4
    dim_special = 0.2
}

################################################################################
# MASTER LAYOUT
master {
    allow_small_split = false
    special_scale_factor = 0.8
    mfact = 0.60
    new_on_top = false
    orientation = center
    inherit_fullscreen = true
    smart_resizing = true
    drop_at_cursor = true
}

################################################################################
# DWINDLE LAYOUT
dwindle {
    pseudotile = true
    preserve_split = true
    smart_split = false

    # MIGLIORAMENTI PER STABILITÀ
    smart_resizing = false          # Disabilita per controllo più preciso
    permanent_direction_override = false
    special_scale_factor = 0.8
    split_width_multiplier = 1.0
    use_active_for_splits = true

    # RAPPORTO SPLIT MIGLIORATO
    default_split_ratio = 0.6       # 60/40 invece di 50/50 (più bilanciato)

    # OPZIONI AGGIUNTIVE PER MIGLIORARE L'ESPERIENZA
    force_split = 0                 # 0=automatico, 1=sempre sinistra, 2=sempre destra
}

################################################################################
# GROUP
group {
    # wallpaper colors
    col.border_active = rgba(E74C3CFF) rgba(FF8C42FF) 45deg    # Rosso sunset
    col.border_inactive = rgba(2C3E50AA)                       # Blu montagne
    col.border_locked_active = rgba(F39C12FF)                  # Oro del sole
    col.border_locked_inactive = rgba(1A2332AA)

    groupbar {
        font_family = JetBrains Mono NL Medium
        font_size = 8
        gradients = true
        height = 14
        render_titles = true
        scrolling = true
        text_color = rgba(FFFFFFFF)

        col.active = rgba(E74C3CFF)                             # Rosso caldo
        col.inactive = rgba(2C3E50AA)                           # Blu scuro montagne
        col.locked_active = rgba(F39C12FF)                      # Oro
        col.locked_inactive = rgba(1A2332AA)
    }
}